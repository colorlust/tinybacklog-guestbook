<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>tiny backlog</title>

  <link rel="icon" type="image/png" href="./favicon.png" />

  <!-- Fredoka -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;500;600;700&display=swap" rel="stylesheet" />

  <style>
    :root {
      --bg: #EFEFEF;
      --text: #111;
      --muted: rgba(0, 0, 0, .55);
      --accent: #FF855D;

      --cardW: 280px;
      --gap: 26px;
      --radius: 18px;

      --stroke: rgba(0, 0, 0, .10);
      --shadow: 0 14px 28px rgba(0, 0, 0, .18);
    }

    * {
      box-sizing: border-box;
    }

    html,
    body {
      height: 100%;
      background: var(--bg);
    }

    body {
      margin: 0;
      font-family: "Fredoka", system-ui, sans-serif;
      color: var(--text);
      overflow-x: hidden;
    }

    /* ===== Header ===== */
    header {
      max-width: 1200px;
      margin: 0 auto;
      padding: 52px 22px 12px;
      text-align: center;
    }

    /* ===== Profile avatar ===== */
    .profile-wrap {
      display: flex;
      justify-content: center;
      margin-bottom: 10px;
    }

    .profile-avatar {
      width: 96px;
      /* keep your size */
      height: 96px;
      border-radius: 50%;
      object-fit: cover;
      background: transparent;

      border: none;
      box-shadow: none;
    }

    /* ===== Site title (LOCKED) ===== */
    header h1 {
      margin: 0;
      font-family: "Fredoka", system-ui, sans-serif;
      font-weight: 500;
      font-size: 3.5rem;
      line-height: 1.05;
      letter-spacing: 0.02em;
    }

    .blurb {
      margin: 12px 0 0;
      font-size: 14px;
      color: var(--muted);
      letter-spacing: .01em;
    }

    /* ===== Origin icon filters ===== */
    .origin-filters {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin: 16px 0 8px;
    }

    .origin-btn {
      width: 44px;
      height: 44px;
      border-radius: 999px;
      border: 1px solid rgba(0, 0, 0, .14);
      background: rgba(255, 255, 255, .55);
      cursor: pointer;
      display: grid;
      place-items: center;
      transition: transform 140ms ease, background 140ms ease, border-color 140ms ease;
      -webkit-tap-highlight-color: transparent;
    }

    .origin-btn svg {
      width: 22px;
      height: 22px;
      fill: rgba(0, 0, 0, .72);
    }

    .origin-btn:hover {
      transform: translateY(-1px);
    }

    .origin-btn.active {
      background: rgba(0, 0, 0, .08);
      border-color: rgba(0, 0, 0, .28);
    }

    .origin-btn.active svg {
      fill: rgba(0, 0, 0, .92);
    }

    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border: 0;
    }

    /* ===== Grid ===== */
    .gallery {
      max-width: 1200px;
      margin: 0 auto;
      padding: 22px;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(var(--cardW), var(--cardW)));
      gap: var(--gap);
      justify-content: center;
      align-items: start;
    }

    .card-stage {
      position: relative;
      width: var(--cardW);
      perspective: 1200px;
      z-index: 0;
      opacity: 0;
      transform: translateY(22px) scale(.9);
      animation: loadSnap 760ms cubic-bezier(.2, 1.4, .3, 1) both;
      user-select: none;
      -webkit-tap-highlight-color: transparent;
    }

    .card-stage.active {
      z-index: 50;
    }

    @keyframes loadSnap {
      0% {
        opacity: 0;
        transform: translateY(22px) scale(.9);
      }

      55% {
        opacity: 1;
        transform: translateY(-10px) scale(1.06);
      }

      78% {
        opacity: 1;
        transform: translateY(3px) scale(.98);
      }

      100% {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }

    .card {
      position: relative;
      width: 100%;
      aspect-ratio: 5/7;
      border-radius: var(--radius);
      cursor: pointer;
      filter: drop-shadow(var(--shadow));
      transform-style: preserve-3d;
      will-change: transform;
    }

    /* ===== Flip ===== */
    .card-inner {
      position: absolute;
      inset: 0;
      border-radius: var(--radius);
      transform-style: preserve-3d;
      transform: rotateY(180deg);
      transition: transform 560ms cubic-bezier(.2, .9, .2, 1);
    }

    .card-inner.is-flipped {
      transform: rotateY(0deg);
    }

    .card-inner.snap {
      animation: flipPop 980ms cubic-bezier(.2, 1.6, .25, 1) both;
    }

    @keyframes flipPop {
      0% {
        transform: rotateY(180deg) scale(.9);
      }

      24% {
        transform: rotateY(180deg) scale(.9);
      }

      58% {
        transform: rotateY(0deg) scale(1.22);
      }

      74% {
        transform: rotateY(0deg) scale(.94);
      }

      88% {
        transform: rotateY(0deg) scale(1.08);
      }

      100% {
        transform: rotateY(0deg) scale(1);
      }
    }

    .face {
      position: absolute;
      inset: 0;
      border-radius: var(--radius);
      overflow: hidden;
      border: 1px solid var(--stroke);
      background: var(--bg);
      backface-visibility: hidden;
      -webkit-backface-visibility: hidden;
    }

    .face img {
      width: 100%;
      height: 100%;
      object-fit: contain;
      display: block;
    }

    .face.front {
      transform: rotateY(0deg);
    }

    .face.back {
      transform: rotateY(180deg);
    }

    /* ===== Footer ===== */
    .site-footer {
      margin-top: 72px;
      padding: 0 22px 56px;
      text-align: center;
      color: var(--muted);
    }

    .footer-divider {
      width: 100%;
      max-width: 680px;
      height: 1px;
      margin: 0 auto 36px;
      background: #EAEAEA;
    }

    .footer-name {
      margin: 0;
      font-size: 14px;
      font-weight: 500;
      color: var(--text);
    }

    .footer-meta {
      margin: 6px 0 18px;
      font-size: 13px;
    }

    .footer-links {
      display: flex;
      justify-content: center;
      gap: 18px;
      margin-bottom: 18px;
    }

    .footer-links a {
      font-size: 13px;
      color: var(--muted);
      text-decoration: none;
    }

    .footer-copy {
      font-size: 12px;
      color: rgba(0, 0, 0, .35);
      margin: 0;
    }

    /* ===== Mobile tweaks ===== */
    @media (max-width:600px) {
      :root {
        --cardW: 340px;
        --gap: 16px;
        --radius: 24px;
      }

      header h1 {
        font-size: clamp(44px, 11vw, 56px);
      }

      .gallery {
        grid-template-columns: 1fr;
        padding-left: 24px;
        padding-right: 24px;
      }

      .card-stage {
        width: 100%;
      }
    }

    @media (hover:none) and (pointer:coarse) {
      .card {
        transform: none !important;
      }
    }
  </style>
</head>

<body>
  <header>
    <div class="profile-wrap">
      <img src="profile.jpg" alt="Tiny Backlog avatar" class="profile-avatar" />
    </div>

    <h1>tiny backlog</h1>
    <p class="blurb">tiny collection of my favorite little guys</p>

    <nav class="origin-filters" aria-label="Type filters">
      <button class="origin-btn active" data-origin="all" aria-pressed="true" title="All">
        <span class="sr-only">All</span>
        <svg viewBox="0 0 24 24">
          <path d="M4 4h7v7H4zM13 4h7v7h-7zM4 13h7v7H4zM13 13h7v7h-7z" />
        </svg>
      </button>
      <button class="origin-btn" data-origin="game" title="Games">
        <span class="sr-only">Games</span>
        <svg viewBox="0 0 24 24">
          <path
            d="M7 10h10c2 0 3 1.5 3 3.5S19 18 17.5 18c-1.2 0-2.1-1.2-2.8-2.1-.4-.5-.7-.9-1.2-.9h-3c-.5 0-.8.4-1.2.9C8.6 16.8 7.7 18 6.5 18 5 18 4 16 4 13.5S5 10 7 10z" />
        </svg>
      </button>
      <button class="origin-btn" data-origin="tv" title="Television">
        <span class="sr-only">Television</span>
        <svg viewBox="0 0 24 24">
          <path
            d="M7 5l5 4 5-4 1 1-5.2 4.2H19c1.1 0 2 .9 2 2v6c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2v-6c0-1.1.9-2 2-2h6.2L6 6l1-1z" />
        </svg>
      </button>
      <button class="origin-btn" data-origin="movie" title="Movies">
        <span class="sr-only">Movies</span>
        <svg viewBox="0 0 24 24">
          <path d="M4 7h16l-1 4H5z" />
        </svg>
      </button>
      <button class="origin-btn" data-origin="oc" title="OCs">
        <span class="sr-only">Original characters</span>
        <svg viewBox="0 0 24 24">
          <path d="M12 17.3 6.2 20.6l1.6-6.5L3 9.8l6.6-.6L12 3z" />
        </svg>
      </button>
    </nav>
  </header>

  <main class="gallery" id="gallery"></main>

  <footer class="site-footer">
    <div class="footer-divider"></div>
    <p class="footer-name">by adam tisdale</p>
    <p class="footer-meta">designer & illustrator</p>
    <nav class="footer-links">
      <a href="https://www.instagram.com/maxxatom.art/" target="_blank" rel="noopener">instagram</a>
      <a href="https://adamtisdale.com/" target="_blank" rel="noopener">work</a>
    </nav>
    <p class="footer-copy">Â© 2026</p>
  </footer>

  <script>
    const FRONT_DIR = "./cards/fronts/";
    const BACK_DIR = "./cards/backs/";

    const cards = [
      "2026-001-pacman",
      "2026-002-pooka",
      "2026-003-dqhero",
      "2026-004-slime",
      "2026-005-aigis",
      "2026-006-dq2hero",
      "2026-007-caradoc",
      "2026-008-peronel",
      "2026-009-matilda",
      "2026-010-donkeykong",
      "2026-011-youngpauline",
      "2026-012-diddykong",
      "2026-013-chunky",
      "2026-014-tiny",
      "2026-015-lanky",
      "2026-016-candy",
      "2026-017-kiddy",
      "2026-018-cranky",
      "2026-019-tiny2",
      "2026-020-funky",
      "2026-021-bowsette"
    ].map(id => ({
      front: FRONT_DIR + `${id}-front.png`,
      back: BACK_DIR + `${id}-back.png`,
      origin: "game"
    }));

    const gallery = document.getElementById("gallery");
    const originButtons = Array.from(document.querySelectorAll(".origin-btn"));

    let inners = [];
    let activeOrigin = "all";

    function passesOriginFilter(item) {
      return activeOrigin === "all" || item.origin === activeOrigin;
    }

    function updateOriginVisibility() {
      const counts = {};
      cards.forEach(card => {
        counts[card.origin] = (counts[card.origin] || 0) + 1;
      });

      const filterBar = document.querySelector(".origin-filters");
      const existingOrigins = Object.keys(counts);

      originButtons.forEach(btn => btn.style.display = "none");

      if (existingOrigins.length > 1) {
        filterBar.style.display = "flex";
        originButtons.forEach(btn => {
          const o = btn.dataset.origin;
          if (o === "all" || counts[o] > 0) btn.style.display = "";
        });
      } else {
        filterBar.style.display = "none";
      }
    }

    function render() {
      const items = cards
        .filter(passesOriginFilter)
        .sort((a, b) =>
          b.front.localeCompare(a.front, undefined, { numeric: true })
        );

      gallery.innerHTML = "";
      inners = [];

      items.forEach((item, i) => {
        const stage = document.createElement("div");
        stage.className = "card-stage";
        stage.style.animationDelay = `${i * 35}ms`;

        const card = document.createElement("div");
        card.className = "card";

        const inner = document.createElement("div");
        inner.className = "card-inner";
        inners.push(inner);

        inner.innerHTML = `
          <div class="face front"><img src="${item.back}" alt=""></div>
          <div class="face back"><img src="${item.front}" alt=""></div>
        `;

        card.appendChild(inner);
        stage.appendChild(card);
        gallery.appendChild(stage);

        card.addEventListener("click", () => {
          const wasUp = inner.classList.contains("is-flipped");
          inners.forEach(el => el.classList.remove("is-flipped", "snap"));
          document.querySelectorAll(".card-stage.active").forEach(s => s.classList.remove("active"));
          if (wasUp) return;
          stage.classList.add("active");
          inner.classList.add("is-flipped", "snap");
        });
      });
    }

    originButtons.forEach(btn => {
      btn.addEventListener("click", () => {
        activeOrigin = btn.dataset.origin;
        originButtons.forEach(b => b.classList.toggle("active", b === btn));
        render();
      });
    });

    updateOriginVisibility();
    render();
  </script>
</body>

</html>